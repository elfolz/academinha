(function(e){function t(t){for(var a,i,s=t[0],d=t[1],l=t[2],u=t[3]||[],h=0,m=[];h<s.length;h++)i=s[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);f&&f(t),c.push.apply(c,u);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=d(d.s=n[0]))}return 0===o.length&&(c.forEach((function(e){if(void 0===r[e]){r[e]=null;var t=document.createElement("link");d.nc&&t.setAttribute("nonce",d.nc),t.rel="prefetch",t.as="script",t.href=s(e),document.head.appendChild(t)}})),c.length=0),e}var a={},i={"app~d0ae3f07":0},r={"app~d0ae3f07":0},o=[],c=[];function s(e){return d.p+"js/"+({}[e]||e)+"."+{"chunk-07a8f408":"c3f1ddd2","chunk-cae6c0ca":"0f12a922","chunk-2d0c4d67":"20524acf","chunk-6c9d3821":"c2bd7245","chunk-0dbf26f2":"445f48d2","chunk-c6328dc8":"1bc5acc6","chunk-588296c3":"c46de903","chunk-37e1cec8":"e1d35920","chunk-6f5139b6":"05c873bc","chunk-174cea69":"cfb11a99","chunk-2d216626":"2c4ab6d7","chunk-4099cd46":"48cb87bd","chunk-320d5816":"9600f21e","chunk-f3d111c6":"e60c916e"}[e]+".js"}function d(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.e=function(e){var t=[],n={"chunk-07a8f408":1,"chunk-4099cd46":1,"chunk-320d5816":1,"chunk-f3d111c6":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-07a8f408":"b04ba202","chunk-cae6c0ca":"31d6cfe0","chunk-2d0c4d67":"31d6cfe0","chunk-6c9d3821":"31d6cfe0","chunk-0dbf26f2":"31d6cfe0","chunk-c6328dc8":"31d6cfe0","chunk-588296c3":"31d6cfe0","chunk-37e1cec8":"31d6cfe0","chunk-6f5139b6":"31d6cfe0","chunk-174cea69":"31d6cfe0","chunk-2d216626":"31d6cfe0","chunk-4099cd46":"23667c09","chunk-320d5816":"739416b9","chunk-f3d111c6":"b7bf5790"}[e]+".css",r=d.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===r))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){s=u[c],l=s.getAttribute("data-href");if(l===a||l===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[e],h.parentNode.removeChild(h),n(o)},h.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=s(e);var u=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}r[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},d.m=e,d.c=a,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)d.d(n,a,function(t){return e[t]}.bind(null,a));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/",d.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var h=0;h<l.length;h++)t(l[h]);var f=u,m=function(){return o.push([0,"chunk-vendors~e4173fa2","chunk-vendors~d939e436","chunk-vendors~dff86cf2","chunk-vendors~77bf5e45","chunk-vendors~f9ca8911","chunk-vendors~fdc6512a","chunk-vendors~bc9d1275","chunk-vendors~d2305125","chunk-vendors~4a7e9e0b","chunk-vendors~03631906","chunk-vendors~11c2601a","chunk-vendors~25d43e53"]),n()}();t([[],{},0,["chunk-0dbf26f2","chunk-c6328dc8","chunk-588296c3","chunk-37e1cec8","chunk-6f5139b6","chunk-174cea69","chunk-2d216626","chunk-4099cd46","chunk-320d5816","chunk-07a8f408","chunk-cae6c0ca","chunk-2d0c4d67","chunk-6c9d3821","chunk-f3d111c6"]])})({0:function(e,t,n){e.exports=n("56d7")},"11aa":function(e,t,n){"use strict";n("b7ef"),n("e9c4");t["a"]=e=>{navigator.share({url:`${location.origin}${location.pathname}#/?shared_training=${btoa(JSON.stringify(e))}`})}},"374e":function(e,t,n){"use strict";n("74f3")},"3d75":function(e,t,n){"use strict";n("bc36")},"4fd0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("toolbar"),n("router-view"),n("v-snackbar",{attrs:{bottom:"",light:!e.$vuetify.theme.dark,timeout:5e3,color:e.alertData.color||null},nativeOn:{click:function(t){e.alert=!1}},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{text:"",icon:""}},"v-btn",a,!1),[n("v-icon",[e._v("clear")])],1)]}}]),model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" "+e._s(e.alertData.text)+" ")]),n("v-snackbar",{attrs:{top:"",light:!e.$vuetify.theme.dark,timeout:1e4,color:"primary"},nativeOn:{click:function(t){return e.updateApp.apply(null,arguments)}},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{text:"",icon:""}},"v-btn",a,!1),[n("v-icon",[e._v("cached")])],1)]}}]),model:{value:e.updateAvailable,callback:function(t){e.updateAvailable=t},expression:"updateAvailable"}},[e._v(" Atualização disponível  ")]),n("banner-install-pwa"),n("banner-cookies-warning"),e.offline?n("footer",{attrs:{id:"offline"}},[e._v("Offline")]):e._e()],1)},r=[],o=()=>{var e,t;const n=window.navigator.userAgent.toLowerCase(),a=null!==(e=navigator.standalone)&&void 0!==e?e:window.matchMedia("(display-mode: standalone)").matches;return/windows/i.test(n)?t="windows":/macintosh/i.test(n)?t="mac":/android/i.test(n)?t="android":/iphone|ipad|ipod/i.test(n)&&(t="ios"),{name:t,standalone:a||"windows"==t||"mac"==t,isMobile:"android"==t||"ios"==t}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("v-app-bar",{attrs:{app:"",fixed:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}})],1),n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("figure",[n("img",{attrs:{src:"/img/icons/favicon-32x32.png",alt:"Logo"}}),n("figcaption",[e._v("Academinha")])]),e.authenticated?n("header",[n("span",[e._v(e._s(e.$auth.user.name))]),n("v-btn",{attrs:{icon:""},on:{click:e.logout}},[n("v-icon",[e._v("power_settings_new")])],1)],1):e._e(),n("v-list",{attrs:{nav:""}},[n("v-list-item-group",[e._l(e.menu,(function(t){return[t.disabled?e._e():n("v-list-item",{key:t.title,on:{click:t.callback}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-title",[e._v(e._s(t.title))])],1)]}))],2)],1)],1)],1)},s=[];n("b7ef"),n("e9c4"),n("ddb0"),n("2b3d"),n("9861"),n("bf19");function d(e){return new Promise((t,n)=>{try{let n=new Blob([btoa(JSON.stringify(e))],{type:"text"}),a=URL.createObjectURL(n),i=document.createElement("a");i.download=`Academinha_Backup_${(new Date).toJSON().split("T")[0]}.bak`,i.target="_blank",i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),t()}catch(a){n(a)}})}function l(){return new Promise((e,t)=>{var n;let a=null!==(n=document.querySelector("#backup"))&&void 0!==n?n:document.createElement("input");a.type="file",a.accept=".bak",a.id="backup",document.body.appendChild(a),a.click();let i=new FileReader;i.onload=n=>{document.body.removeChild(document.querySelector("#backup"));try{e(JSON.parse(atob(n.target.result)))}catch(a){t(a)}},a.onchange=e=>{let t=e.target.files;t.length?i.readAsText(t[0]):document.body.removeChild(a)}})}var u={name:"toolbar",computed:{authenticated(){return this.$store.state.authenticated}},data(){return{drawer:!1,loading:!1,menu:[{icon:"login",title:"Entrar",callback:this.login},{icon:"add",title:"Adicionar Treino",callback:this.newTraining},{icon:"archive",title:"Backup dos meus Treinos",callback:this.generateBackup},{icon:"unarchive",title:"Restaurar Backup",callback:this.restoreBackup},{icon:"security",title:"Política de Privacidade",callback:this.gotoPrivacyPolicy}]}},mounted(){this.refreshMenu()},methods:{refreshMenu(){this.menu[0].disabled=this.authenticated,this.menu[2].disabled=this.authenticated,this.menu[3].disabled=this.authenticated},login(){this.$router.push("/login").catch(e=>{}),this.drawer=!1},logout(){this.$auth.deauthenticate()},newTraining(){this.$router.push("/training").catch(e=>{})},generateBackup(){this.loading||(this.loading=!0,this.$db.trainings.toArray().then(e=>{e.length?d(e).then(()=>{this.drawer=!1}).catch(e=>{this.$store.dispatch("openAlert",{text:"Falha ao fazer backup do seus treinos! Tente novamente.",color:"error"}),console.log(e)}):this.$store.dispatch("openAlert",{text:"Você não tem nenhum treino.",color:"warning"})}).finally(()=>{this.loading=!1}))},restoreBackup(){this.loading||(this.loading=!0,l().then(e=>{e.forEach(e=>{this.$db.trainings.delete(e.type).finally(()=>{this.$db.trainings.put(e).then(()=>{this.$store.dispatch("openAlert",{text:"Backup restaurado com sucesso!",color:"success"}),this.$sync.refreshLocalTrainings(),this.drawer=!1,this.$router.push("/").catch(e=>{})}).catch(e=>{this.$store.dispatch("openAlert",{text:"Falha ao restaurar o backup! Tente novamente.",color:"error"}),console.log(e)}).finally(()=>{this.loading=!1})})},this)}).catch(e=>{this.loading=!1,this.$store.dispatch("openAlert",{text:"Falha ao restaurar o backup! Tente novamente.",color:"error"}),console.log(e)}))},connectSmartband(){this.$store.dispatch("openAlert",{text:"Funcionalidade em desenvolvimento."}),this.drawer=!1},gotoPrivacyPolicy(){this.$router.push("/privacy-policy").catch(e=>{})}},watch:{authenticated(){this.refreshMenu()}}},h=u,f=(n("881f"),n("2877")),m=n("6544"),p=n.n(m),g=n("40dc"),v=n("5bc1"),b=n("8336"),k=n("132d"),w=n("8860"),y=n("da13"),$=n("1baa"),T=n("34c3"),_=n("5d23"),A=n("f774"),x=Object(f["a"])(h,c,s,!1,null,null,null),S=x.exports;p()(x,{VAppBar:g["a"],VAppBarNavIcon:v["a"],VBtn:b["a"],VIcon:k["a"],VList:w["a"],VListItem:y["a"],VListItemGroup:$["a"],VListItemIcon:T["a"],VListItemTitle:_["b"],VNavigationDrawer:A["a"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.show?n("main",{staticClass:"banner elevation-12",on:{click:function(t){e.show=!1}}},[n("header",[e._v("Instale esse App no seu ceular")]),"ios"==e.device.name?[n("div",[e._v(" Toque em "),n("v-icon",[e._v("ios_share")]),e._v(" e depois em ")],1),n("div",{staticClass:"ios"},[e._v(" Adicionar à Tela de Início "),n("span")])]:e._e(),"android"==e.device.name?[n("div",[e._v(" Toque em "),n("v-icon",[e._v("more_vert")]),e._v("e depois em ")],1),n("div",[e._v("Adicionar à tela inicial")])]:e._e()],2):e._e()])},V=[],I={name:"banner-install-pwa",computed:{device(){return o()}},data(){return{show:!1}},mounted(){this.device.standalone||(this.show=!0,setTimeout(()=>{this.show=!1},1e4))}},L=I,O=(n("fd26"),Object(f["a"])(L,P,V,!1,null,"6d35d082",null)),C=O.exports;p()(O,{VIcon:k["a"]});var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.show?n("footer",{staticClass:"banner elevation-12"},[n("p",[e._v("Usamos cookies para melhorar sua experiência.")]),n("p",[e._v("Saiba mais em "),n("font",{on:{click:function(t){return e.$router.push("/privacy-policy")}}},[e._v(e._s(e.link()))])],1),n("v-btn",{attrs:{color:"accent"},on:{click:e.accept}},[n("v-icon",[e._v("check")]),e._v("Aceitar")],1)],1):e._e()])},j=[],B={name:"banner-cookies-warning",data(){return{show:!localStorage.getItem("cookiesPolicyAccepted")}},methods:{accept(){localStorage.setItem("cookiesPolicyAccepted","true"),this.show=!1},link(){return location.host+"/privacy-policy"}}},D=B,N=(n("374e"),Object(f["a"])(D,E,j,!1,null,"c2bad660",null)),M=N.exports;p()(N,{VBtn:b["a"],VIcon:k["a"]});var F={components:{toolbar:S,bannerInstallPwa:C,bannerCookiesWarning:M},computed:{alert:{get(){return this.$store.state.alert},set(e){return this.$store.commit("setAlert",e)}},updateAvailable:{get(){return this.$store.state.updateAvailable},set(e){this.$store.commit("setUpdateAvailable",!1)}},offline:{get(){return this.$store.state.offline},set(e){this.$store.commit("setOffline",e)}},audio:{get(){return this.$store.state.audio},set(e){return this.$store.commit("setAudio",e)}},alertData(){return this.$store.state.alertData},authenticated(){return this.$store.state.authenticated}},data(){return{player:new Audio("/ding.mp3"),audioAuthorized:!1}},mounted(){this.refreshPageSize(),this.refreshTheme(),this.setupTrainings(),document.onclick=()=>{this.audioAuthorized||(this.player.currentTime=3,this.player.muted=!0,this.player.play(),this.audioAuthorized=!0)},window.onresize=()=>{this.refreshPageSize()},window.ononline=()=>{this.offline&&(this.$sync.refreshTrainings(),this.offline=!1)},window.onoffline=()=>{this.offline=!0},this.authenticated&&this.$auth.attempt(),this.$route.query.shared_training&&this.$router.push({path:"/training",query:{shared_training:this.$route.query.shared_training}})},methods:{updateApp(){location.reload(!0)},refreshTheme(){document.body.style.setProperty("background-color",this.$vuetify.theme.dark?"#121212":"#ffffff")},refreshPageSize(){document.body.style.setProperty("--vh",(o().standalone?window.outerHeight:window.innerHeight)+"px")},setupTrainings(){this.int=setInterval(()=>{window.Vue&&(this.$sync.refreshTrainings(),clearInterval(this.int),this.int=void 0)},100)}},watch:{audio:function(e){"play"==e&&(this.player.currentTime=0,this.player.muted=!1,this.player.play(),setTimeout(()=>{this.audio=null},100))}}},R=F,q=(n("deb3"),n("5c64"),n("7496")),J=n("2db4"),z=Object(f["a"])(R,i,r,!1,null,"4d822e10",null),U=z.exports;p()(z,{VApp:q["a"],VBtn:b["a"],VIcon:k["a"],VSnackbar:J["a"]});var H=n("a584"),G=n("8c4f"),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[e.categories.length&&!e.trainings.length?n("figure",[n("img",{attrs:{src:"/img/"+e.imgId+".png",alt:"Pessoa se exercitando",width:"300",height:"auto"}}),n("figcaption",[n("h1",[e._v("Ainda sem treinos")]),n("h2",[e._v("Adicione clicando no +")])])]):n("section",e._l(e.trainings,(function(t,a){return n("v-card",{key:a},[n("v-card-title",[n("span",[e._v(e._s(t.type))]),e.authenticated?[e.offline&&t.pending?n("label",[n("v-icon",[e._v("cloud_off")])],1):e._e(),e.offline||t.pending?e._e():n("label",[n("v-icon",[e._v("cloud_done")])],1),e.offline?n("label",[n("v-icon",[e._v("cloud_queue")])],1):e._e()]:e._e()],2),n("v-card-text",[e.categories.length?e._l(t.exercises,(function(t,a){return n("p",{key:a},[n("span",[e._v(e._s(e.categoryName(t.categoryId)))]),n("span",[e._v(e._s(e.exerciseName(t.categoryId,t.exerciseId)))])])})):[n("v-skeleton-loader",{attrs:{type:"list-item-three-line"}})]],2),e.categories.length?n("v-card-actions",[n("v-btn",{attrs:{icon:"",title:"Editar"},on:{click:function(n){return e.openTraining("edit",t)}}},[n("v-icon",[e._v("edit")])],1),n("v-btn",{attrs:{icon:"",title:"Compartilhar"},on:{click:function(n){return e.shareMyTraining(t)}}},[n("v-icon",[e._v("share")])],1),n("v-btn",{attrs:{fab:"",small:"",title:"Começar"},on:{click:function(n){return e.openTraining("play",t)}}},[n("v-icon",[e._v("play_arrow")])],1)],1):e._e()],1)})),1),n("v-btn",{attrs:{fixed:"",bottom:"",right:"",fab:"",color:"accent",title:"Adicionar treino",loading:!e.categories.length},on:{click:e.newTraining}},[n("v-icon",[e._v("add")])],1)],1)},W=[],Y=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Q=n("82a9"),X=n("11aa"),Z={computed:{offline(){return this.$store.state.offline},authenticated(){return this.$store.state.authenticated},categories(){return Q["a"]},trainings:{get(){return this.$store.state.trainings},set(e){this.$store.commit("setTrainings",e)}}},data(){return{imgId:Y(0,6)}},methods:{categoryName(e){var t,n;return null!==(t=null===(n=this.categories.find(t=>t.id==e))||void 0===n?void 0:n.name)&&void 0!==t?t:null},exerciseName(e,t){var n,a,i;return null!==(n=null===(a=this.categories.find(t=>t.id==e))||void 0===a||null===(i=a.exercises.find(e=>e.id==t))||void 0===i?void 0:i.name)&&void 0!==n?n:null},newTraining(){this.$router.push("/training").catch(e=>{})},openTraining(e,t){let n;n=t.id?t.id:t.type,this.$router.push(`/training/${n}/${e}`).catch(e=>{})},shareMyTraining(e){Object(X["a"])(e)}}},ee=Z,te=(n("3d75"),n("b0af")),ne=n("99d9"),ae=n("f6c4"),ie=n("3129"),re=Object(f["a"])(ee,K,W,!1,null,"f2149364",null),oe=re.exports;p()(re,{VBtn:b["a"],VCard:te["a"],VCardActions:ne["a"],VCardText:ne["b"],VCardTitle:ne["c"],VIcon:k["a"],VMain:ae["a"],VSkeletonLoader:ie["a"]}),a["a"].use(G["a"]);const ce=()=>Promise.all([n.e("chunk-07a8f408"),n.e("chunk-cae6c0ca"),n.e("chunk-2d0c4d67"),n.e("chunk-6c9d3821")]).then(n.bind(null,"dd7b")),se=()=>Promise.all([n.e("chunk-0dbf26f2"),n.e("chunk-c6328dc8"),n.e("chunk-588296c3"),n.e("chunk-37e1cec8"),n.e("chunk-6f5139b6"),n.e("chunk-174cea69"),n.e("chunk-2d216626"),n.e("chunk-4099cd46"),n.e("chunk-320d5816")]).then(n.bind(null,"042e")),de=()=>n.e("chunk-f3d111c6").then(n.bind(null,"d2e3")),le=[{path:"/login/:provider?",name:"Login",component:ce,meta:{elseAuth:!0}},{path:"/privacy-policy",name:"Privacy Policy",component:de},{path:"/training/:id?/:mode?",name:"Treino",component:se,props:!0},{path:"/",name:"home",component:oe}],ue=new G["a"]({mode:"hash",base:"/",routes:le});ue.beforeEach((e,t,n)=>{const i=e.matched.some(e=>e.meta.ifAuth),r=e.matched.some(e=>e.meta.elseAuth);i&&!a["a"].$auth.authenticated?n("/login"):r&&a["a"].$auth.authenticated?n("/"):n()}),a["a"].use(H["a"],{appName:"Academinha",pageTrackerScreenviewEnabled:!0,pageTrackerExcludedRotues:["/privacy-policy"],config:{id:"G-3LYC0SMM8J"}},ue);var he=ue,fe=n("2f62");a["a"].use(fe["a"]);var me=new fe["a"].Store({state:{authenticated:!!localStorage.getItem("accessToken"),updateAvailable:!1,alert:!1,alertData:{},trainings:[],offline:!navigator.onLine,audio:null},mutations:{setAuthenticate(e,t){e.authenticated=t},setUpdateAvailable(e,t){e.updateAvailable=t},setAlert(e,t){e.alert=t},setAlertData(e,t){e.alertData=t},setTrainings(e,t){e.trainings=t},setOffline(e,t){e.offline=t},setAudio(e,t){e.audio=t}},actions:{openAlert({commit:e},t){if(t.text){e("setAlertData",t),e("setAlert",!0);try{navigator.vibrate(100)}catch(n){}}}}}),pe=n("3a60"),ge=n.n(pe),ve=n("f309");function be(){return"true"==localStorage.getItem("lightTheme")||"false"!=localStorage.getItem("lightTheme")&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches)}a["a"].use(ve["a"]),a["a"].use(ge.a);var ke=new ve["a"]({icons:{iconfont:"md"},theme:{dark:!be(),options:{customProperties:!0},themes:{light:{primary:"#ff7e00",secondary:"#ffcc00",accent:"#966fd6",error:"#ff4040",info:"#8ab9f1",success:"#3cd070",warning:"#ffdb58"},dark:{primary:"#ff7e00",secondary:"#ffcc00",accent:"#966fd6",error:"#ff4040",info:"#8ab9f1",success:"#3cd070",warning:"#ffdb58"}}}}),we=n("45d2"),ye=n.n(we);a["a"].use(ye.a);const $e=new ye.a([{version:1,database:"academinha",schemas:[{trainings:"&type"}]}]);var Te=$e,_e=n("9483");Object(_e["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){window.Vue.$store.commit("setUpdateAvailable",!0),console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Ae=n("bc3a"),xe=n.n(Ae);xe.a.defaults.baseURL="https://us-central1-academinha-beb1f.cloudfunctions.net/api",xe.a.defaults.headers.common={Accept:"application/json"};const Se=xe.a.create({});Se.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Se.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=Se,window.axios=Se,Object.defineProperties(e.prototype,{axios:{get(){return Se}},$axios:{get(){return Se}}})},a["a"].use(Plugin);Plugin;class Pe{get authenticated(){return!!localStorage.getItem("accessToken")}attempt(){if(!navigator.onLine)return!1;a["a"].axios.get("/auth/check",{headers:this.headers}).catch(()=>{this.deauthenticate()})}authenticate(e){localStorage.setItem("accessToken",e.token),delete e.token,localStorage.setItem("user",JSON.stringify(e.user)),window.Vue.$store.commit("setAuthenticate",!0),window.Vue.$router.push("/").catch(e=>{}),window.Vue.$sync.syncTrainings(!0)}deauthenticate(){window.Vue.$store.commit("setAuthenticate",!1),localStorage.removeItem("accessToken"),localStorage.removeItem("user"),window.Vue.$router.push("/").catch(e=>{}),window.Vue.$sync.unlinkTrainings()}get user(){var e;return JSON.parse(null!==(e=localStorage.getItem("user"))&&void 0!==e?e:"{}")}get headers(){let e={};return localStorage.getItem("accessToken")&&(e["Authorization"]="Bearer "+localStorage.getItem("accessToken")),e}}const Ve=new Pe;Pe.install=function(e,t){e.$auth=Ve,Object.defineProperty(e.prototype,"$auth",{get(){return Ve}})},a["a"].use(Pe);class Ie{refreshTrainings(){window.Vue.$db.trainings.toArray().then(e=>{window.Vue.$store.commit("setTrainings",e)}).finally(()=>{a["a"].$auth.authenticated&&navigator.onLine&&this.syncTrainings()})}syncTrainings(e=!1){return a["a"].axios.get("/trainings",{headers:a["a"].$auth.headers}).then(t=>{if(200!=t.status)return this.sendLocalTrainings();let n=JSON.parse(localStorage.getItem("trainingsToDelete")||"[]");return n.length&&t.data.filter(e=>n.includes(e.id)).length&&n.forEach(e=>{a["a"].axios.delete("/trainings/"+e,{headers:a["a"].$auth.headers});let i=t.data.find(e=>e.id==e),r=t.data.indexOf(i);t.data.splice(r,1),r=n.indexOf(e),n.splice(r,1),n.length?localStorage.setItem("trainingsToDelete",JSON.stringify(n)):localStorage.removeItem("trainingsToDelete")}),window.Vue.$db.trainings.toArray().then(n=>{let a=n.filter(e=>e.pending);if(e||!a.length)return e?window.Vue.$db.trainings.clear().finally(()=>window.Vue.$db.trainings.bulkPut(t.data).finally(()=>this.refreshLocalTrainings())):window.Vue.$db.trainings.bulkPut(t.data).finally(()=>this.refreshLocalTrainings());t.data.forEach(e=>{let t=a.find(t=>t.type==e.type);t?e.id?this.updateTraining(t):this.sendTrainings([t]):window.Vue.$db.trainings.put(e).finally(()=>this.refreshLocalTrainings())})})})}sendLocalTrainings(){if(a["a"].$auth.authenticated&&navigator.onLine)return window.Vue.$db.trainings.toArray().then(e=>{if(e=e.filter(e=>!e.id||e.pending),e.length)return a["a"].axios.post("/trainings",e,{headers:a["a"].$auth.headers}).then(e=>window.Vue.$db.trainings.bulkPut(e.data).finally(()=>this.refreshLocalTrainings()))})}sendTrainings(e){for(let t in e)e[t].updatedAt=Date.now();return a["a"].$auth.authenticated&&navigator.onLine?a["a"].axios.post("/trainings",e,{headers:a["a"].$auth.headers}).then(e=>window.Vue.$db.trainings.bulkPut(e.data).finally(()=>this.refreshLocalTrainings())):(this.clearLocalTrainings(e),window.Vue.$db.trainings.bulkPut(e).finally(()=>this.refreshLocalTrainings()))}updateTraining(e){return e.updatedAt=Date.now(),a["a"].$auth.authenticated&&navigator.onLine?a["a"].axios.put("/trainings/"+e.id,e,{headers:a["a"].$auth.headers}).then(e=>(e.data.pending=!1,window.Vue.$db.trainings.put(e.data).finally(()=>this.refreshLocalTrainings()))):(this.clearLocalTrainings([e]),window.Vue.$db.trainings.put(e).finally(()=>this.refreshLocalTrainings()))}deleteTraining(e){if(a["a"].$auth.authenticated&&navigator.onLine)return a["a"].axios.delete("/trainings/"+e.id,{headers:a["a"].$auth.headers}).then(()=>window.Vue.$db.trainings.delete(e.type).finally(()=>this.refreshLocalTrainings()));if(e.id){let t=JSON.parse(localStorage.getItem("trainingsToDelete")||"[]");t.includes(e.id)||t.push(e.id),localStorage.setItem("trainingsToDelete",JSON.stringify(t))}return window.Vue.$db.trainings.delete(e.type).finally(()=>this.refreshLocalTrainings())}refreshLocalTrainings(){return window.Vue.$db.trainings.toArray().then(e=>{window.Vue.$store.commit("setTrainings",e)})}unlinkTrainings(){return window.Vue.$db.trainings.toArray().then(e=>{this.clearLocalTrainings(e),window.Vue.$db.trainings.bulkPut(e).finally(()=>{window.Vue.$store.commit("setTrainings",e)})})}clearLocalTrainings(e){for(let t in e)a["a"].$auth.authenticated||(delete e[t].id,delete e[t].userId),e[t].pending=!0}}const Le=new Ie;Ie.install=function(e,t){e.$sync=Le,Object.defineProperty(e.prototype,"$sync",{get(){return Le}})},a["a"].use(Ie);a["a"].config.productionTip=!1,a["a"].config.devtools=!1;const Oe=new a["a"]({router:he,store:me,vuetify:ke,idb:Te,render:e=>e(U)}).$mount("#app");window.Vue=Oe},"5c64":function(e,t,n){"use strict";n("d32a")},"6c1a":function(e,t,n){},"74f3":function(e,t,n){},"82a9":function(e,t,n){"use strict";t["a"]=[{id:1,name:"Abdomen",exercises:[{id:1,name:"Superior"},{id:2,name:"Inferior"},{id:3,name:"Oblíquo"},{id:4,name:"Inclinação + Banco"},{id:5,name:"Abdomem Maq."},{id:6,name:"Lombar"}]},{id:2,name:"Ante-braço",exercises:[{id:1,name:"Extensão de Punho"},{id:2,name:"Flexão de Punho"},{id:3,name:"Rosca Inversa"}]},{id:3,name:"Bíceps",exercises:[{id:1,name:"Rosca Direta"},{id:2,name:"Rosca Scoth"},{id:3,name:"Rosca Alternada"},{id:4,name:"Rosca Concentrada"},{id:5,name:"Rosca Martelo"}]},{id:4,name:"Dorso",exercises:[{id:1,name:"Peck Deck"},{id:2,name:"Pulley Costas"},{id:3,name:"Pulley Frente"},{id:4,name:"Remada Baixa"},{id:5,name:"Remada Uni"},{id:6,name:"Cavalinho"},{id:7,name:"Lombares"},{id:8,name:"Barra Fixa"},{id:9,name:"Pull Down"}]},{id:5,name:"Membros Inferiores",exercises:[{id:1,name:"Agachamento"},{id:2,name:"Avenço"},{id:3,name:"Leg Press"},{id:4,name:"Stiff"},{id:5,name:"Cadeira Flexora"},{id:6,name:"Cadeira Extensora"},{id:7,name:"Mesa Flexora"},{id:8,name:"Hack Machine"},{id:9,name:"Adução"},{id:10,name:"Abdução"},{id:11,name:"Glúteos"},{id:12,name:"Panturrilha"},{id:13,name:"Sóleo"},{id:14,name:"Flexão Tibial"}]},{id:6,name:"Peitorais",exercises:[{id:1,name:"Supino"},{id:2,name:"Supino Inclinado"},{id:3,name:"Supino Declinado"},{id:4,name:"Crucifixo"},{id:5,name:"Crucifixo Inclinado"},{id:6,name:"Pull Over"},{id:7,name:"Flexão Braço"},{id:8,name:"Fly"},{id:9,name:"Cross Over"},{id:10,name:"Peck Deck"}]},{id:7,name:"Ombros",exercises:[{id:1,name:"Elevação Lateral"},{id:2,name:"Elevação Anterior"},{id:3,name:"Remada Alta"},{id:4,name:"Crucifixo Inverso"},{id:5,name:"Arnold"},{id:6,name:"Encolhimento"}]},{id:8,name:"Tríceps",exercises:[{id:1,name:"Triceps Pulley"},{id:2,name:"Triceps Francês"},{id:3,name:"Triceps Testa"},{id:4,name:"Triceps Banco"},{id:5,name:"Triceps Supino"},{id:6,name:"Pacalela"},{id:7,name:"Coice"}]}]},"881f":function(e,t,n){"use strict";n("b740")},b740:function(e,t,n){},bc36:function(e,t,n){},d32a:function(e,t,n){},deb3:function(e,t,n){"use strict";n("6c1a")},fd26:function(e,t,n){"use strict";n("4fd0")}});